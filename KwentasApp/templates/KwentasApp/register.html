{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Kwentas Klaras - Registration</title>
	<link rel="stylesheet" type="text/css" href="{% static 'KwentasApp/css/login.css' %}"/>
	<link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet"/>
	<script src="https://kit.fontawesome.com/a81368914c.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		.content {
			display: none;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="img">
			<img src="{% static 'KwentasApp/img/logo.png' %}">
		</div>
		<div class="login-content">
			<form action="#" method="post">
				{% csrf_token %}
				<img src="{% static 'KwentasApp/img/avatar.png' %}">
				<h2 class="title">Registration</h2>
				{% if messages %}
				<div class="messages">
					{% for message in messages %}
					<p class="{{ message.tags }}">{{ message }}</p>
					{% endfor %}
				</div>
				<script>
					setTimeout(function() {
					  var messagesDiv = document.querySelector('.messages');
					  if (messagesDiv) {
						messagesDiv.style.display = 'none';
					  }
					}, 3000);
				  </script>
				{% endif %}
           		<div class="input-div">
           		   <div class="i">
           		   		<i class="fas fa-user"></i>
           		   </div>
           		   <div class="div">
           		   		<h5>Username</h5>
           		   		<input type="text" name="username" class="input">
           		   </div>
           		</div>
           		
           		<div class="input-div">
           		   <div class="i">
           		   		<i class="fas fa-envelope"></i>
           		   </div>
           		   <div class="div">
           		   		<h5>Email</h5>
           		   		<input type="email" name="email" class="input">
           		   </div>
           		</div>

				<div class="input-div">
					<div class="i">
						<i class="fas fa-building"></i>
					</div>
					<div class="drop">
						<input type="text" name="department" placeholder="Department" onclick="toggleDropdown()" id="departmentInput" readonly>
						<i class="fas fa-chevron-down" id="dropdownArrow" onclick="toggleDropdown()"></i>
						<ul class="content" id="departmentOptions">
							<li onclick="selectOption('IT Office')">IT Office</li>
							<li onclick="selectOption('Engineering Office')">Engineering Office</li>
							<li onclick="selectOption('Treasurers Office')">Treasurers Office</li>
							<li onclick="selectOption('Tourism Office')">Tourism Office</li>
							<li onclick="selectOption('Mayor Office')">Mayor Office</li>
						</ul>
					</div>
				</div>
				  
           		<div class="input-div">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>Password</h5>
           		    	<input type="password" name="password1" class="input">
            	   </div>
            	</div>

                <div class="input-div">
                    <div class="i"> 
                         <i class="fas fa-lock"></i>
                    </div>
                    <div class="div">
                         <h5>Enter password again</h5>
                         <input type="password" name="password2" class="input">
                 </div>
              </div>

              <a href="{% url 'login' %}">Already have an account?</a>
            	<input type="submit" class="btn">
            </form>
        </div>
    </div>
    <script type="text/javascript" src="{% static 'KwentasApp/js/main.js' %}"></script>
	<script>
		function toggleDropdown() {
			const departmentOptions = document.getElementById("departmentOptions");
			departmentOptions.classList.toggle("show");
		}

		function selectOption(option) {
			const departmentInput = document.getElementById("departmentInput");
			departmentInput.value = option;
			toggleDropdown();
		}

		// Close dropdown when clicking outside of it
		window.onclick = function(event) {
			if (!event.target.matches('.fas.fa-chevron-down')) {
				const departmentOptions = document.getElementById("departmentOptions");
				if (departmentOptions.classList.contains('show')) {
					departmentOptions.classList.remove('show');
				}
			}
		}
	</script>
</body>
</html>
